AdapterTrait
------------

1)
"allow" becomes private since we can always easily use "initializeBus" like so:
$this->adapter->initializeBus(
    $this->bus,
    array('Test\Integration\Test2\Test2Handler')
);


3)
Full coverage!!!


4)
Integration tests for:
- all exceptions which we should redesign from scratch probably(?)
- many pipes and piping commands and events in every possible direction
- monitoring systembus with 1 pipe
- monitoring systembus with man pipes
- handler methods with multiple annotations (could be use as input or output handler)
- handler methods with namespace annotations (?possible)
- testing closures
- Gate not static (?)
- configuration testing


5)
maybe adapter implementation for closures possible?

function simple_printer($name) {
    return function () use ($name) {
        print $name;
    };
}


8)
$this->getBus() <- without parameter returns the currents bus!
$this->getBus($name) <- returns any bus


9)
command/event mapping (?)
\                           <- allows every handler (which is default)
\namespace                  <- only namespace
\namespace\namespace        <- only namespace/namespace
\namespace\class            <- only class
\namespace\class\method     <- only method


10)
Add Vagrantfile

11)
Should we rename "Setup" to "Cqrs"
- $cqrs = new Cqrs();
- $cqrs->setGate(Gate::getInstance()->reset());
- $cqrs->setCommandHandlerLoader(new ClassMapCommandHandlerLoader());
- $cqrs->setEventListenerLoader(new ClassMapEventListenerLoader());
What do you think?
